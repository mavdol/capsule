import { task } from "@capsule-run/sdk";


const untrustedCode = `
console.log("This is untrusted code that can be generated by AI");
`

export const executeUntrustedCode = task(
  { name: "executeUntrustedCode", compute: "HIGH", timeout: "30s" },
  async (): Promise<any> => {
    const result = await eval(untrustedCode);
    return result;
  }
);

export const main = task(
  { name: "main", compute: "HIGH", timeout: "30s" },
  async (): Promise<void> => {
    await executeUntrustedCode();
    return;
  }
);
